<!DOCTYPE html>
<html lang="en-gb">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
            <title>ARIA compliant filter search - aaronwatts@dev Blog </title>
        <meta name="description" content="I've managed to find some time to spend at my computer recently, after all the festivities and flu. I decided I would continue working on the accessibility and ARIA compliance on my main website. Next on the list was the filter search that I use on my index pages." />
         
        <meta name="generator" content="Publii Open-Source CMS for Static Site" />
<link rel="stylesheet" href="https://blog.aaronwatts.dev/media/plugins/syntaxHighlighter/prism-white.css" />
        <link rel="canonical" href="https://blog.aaronwatts.dev/aria-compliant-filter-search/">
        <link rel="alternate" type="application/atom+xml" href="https://blog.aaronwatts.dev/feed.xml" />
<link rel="alternate" type="application/json" href="https://blog.aaronwatts.dev/feed.json" />

        <meta property="og:title" content="ARIA compliant filter search" /><meta property="og:site_name" content="aaronwatts@dev Blog" /><meta property="og:description" content="I've managed to find some time to spend at my computer recently, after all the festivities and flu. I decided I would continue working on the accessibility and ARIA compliance on my main website. Next on the list was the filter search that I use on my index pages." /><meta property="og:url" content="https://blog.aaronwatts.dev/aria-compliant-filter-search/" /><meta property="og:type" content="article" />
	        <link rel="shortcut icon" href="https://blog.aaronwatts.dev/media/website/favicon.ico" type="image/x-icon" />
        
        <link rel="stylesheet" href="https://blog.aaronwatts.dev/assets/css/style.css?v=9a41f580e41bc573e76404ef273b2990">
        <script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.aaronwatts.dev/aria-compliant-filter-search/"},"headline":"ARIA compliant filter search","datePublished":"2026-01-24T13:38","dateModified":"2026-01-24T14:22","description":"I've managed to find some time to spend at my computer recently, after all the festivities and flu. I decided I would continue working on the accessibility and ARIA compliance on my main website. Next on the list was the filter search that I use on my index pages.","author":{"@type":"Person","name":"aaronwatts@dev","url":"https://blog.aaronwatts.dev/authors/aaronwattsdev/"},"publisher":{"@type":"Organization","name":"aaronwatts@dev"}}</script>
        <noscript>
            <style>
                img[loading] {
                    opacity: 1;
                }
            </style>
        </noscript>	
        
    </head>
    <body class="post-template">
        <header class="top js-header">
   <a class="logo" href="https://blog.aaronwatts.dev/">
         aaronwatts@dev Blog
   </a>
         <nav class="navbar js-navbar">
            <button
               class="navbar__toggle js-toggle"
               aria-label="Menu"
               aria-haspopup="true"
               aria-expanded="false">
               <span class="navbar__toggle-box">
                  <span class="navbar__toggle-inner">Menu</span>
               </span>
            </button>
          <ul class="navbar__menu">
                   <li>
                     <a
                        href="https://blog.aaronwatts.dev/tags/"
                           target="_self"
      >
                        Browse by Topic
                    </a>
      
               </li>
                   <li>
                     <a
                        href="https://sites.aaronwatts.dev"
                           target="_self"
      >
                        More by aaronwatts@dev
                    </a>
      
               </li>
          </ul>
         </nav>
</header>
<main class="post">
      <article class="content">
         <div class="hero hero--noimage">
            <header class="hero__content ">
               <div class="wrapper">
                  <h1>ARIA compliant filter search</h1>
                     <div class="feed__meta content__meta  ">
                                 <img 
                                    src="https://blog.aaronwatts.dev/media/website/android-chrome-512x512.png" 
                                     loading="eager"
                                    height="512"
                                    width="512"
                                    class="feed__author-thumb" 
                                    alt="">
                              <a href="https://blog.aaronwatts.dev/authors/aaronwattsdev/" class="feed__author">aaronwatts@dev</a>

                           <time datetime="2026-01-24T13:38" class="feed__date">
                                 24 January 2026
                           </time>
                     </div>
                </div>
            </header>

         </div>

         <div class="entry-wrapper content__entry">           
            <p>I've managed to find some time to spend at my computer recently, after all the festivities and flu. I decided I would continue working on the accessibility and ARIA compliance on my main website. Next on the list was the filter search that I use on my index pages.</p>

<p>Each article has a list of tags (which I call topics on my site), and some JavaScript code makes a list of clickable topics near the start of the page that will filter the articles that contain the selected topic.</p>
<p>The first thing I decided to do was to place the all the filter search related elements into a search element. I hadn't known this element existed until I researched ARIA. So now it's all in a semantically named landmark for assistive technologies to distinguish. Great!</p>
<p>In the dev tools in Firefox, I was getting a warning in the accessibility pane that these things that behave as buttons do not have the role of buttons. Originally it was because I had the CSS made up for my topic tags, so I just made the same topic tags to sit at the top of the page - the only difference being that these ones are clickable. Well, if something behaves like a button, why not just make it a button? I've styled my buttons in my website to look like anchors, but with descriptive text that makes it quite obvious that this thing I click does something on the page instead of taking me to a different page - it's fine, it's visually noticeable and the intent is explicitly indicated. So I had to do some CSS trickery to make these buttons look like topic tags instead. Everything looks the same as before, except now the topic buttons are now focusable, and there's a sensibly named landmark.</p>
<p>One more thing about buttons: as these are stateful buttons, I also needed to include the <code>aria-pressed</code> attribute.</p>
<p>Previously (or currently, depending on when you're reading this; I still have to make some updates to the CMS Python module to reflect these changes), I have truncated the topics list using <code>max-height</code> and a fade with <code>overflow: hidden</code>. I set a resize listener on the window to pick up on when a browser window might be tiled to the side - I was truncating the list if it exceeded X amount of the vertical screen real estate. When I gave it some thought, I realised there were 2 issues with this. The first is that although they are hidden from view, all the topics were still in the accessibility tree, so for my guides index page, a user would have to sit through 37 topics before getting to the article links. That's too many. The second was my realisation that this is what was responsible for a graphical glitch on only <em>some</em> mobile browsers - particularly the browsers that hide the address bar on scroll, and you know, resize the window? Duh. How did it take until now to realise why that was happening? (face-palm).</p>
<p>So threw away my JavaScript truncation, and replaced it with a fairly tidy piece of CSS:</p>
<pre class="language-css"><code>search#topics {
  ...

  &amp;.truncated li:nth-of-type(n+7) {
    display: none;
  }
}</code></pre>
<p>Now, when the <code>truncated</code> class is applied to the <code>ul</code> element, only the first 6 topics are rendered. Thanks to <code>display: none;</code>, this is the case for the visual document <em>and</em> the accessibility tree.</p>
<p>Next I needed some user messages, with <code>aria-describedby</code>, <code>aria-live="polite"</code>, and <code>role="status"</code> to indicate the various states of the topic list. There are two different <em>"statenesses"</em> here, if you will pardon my English.</p>
<ol>
<li>If a filter is currently applied or not</li>
<li>If the list of topics is truncated or not</li>
</ol>
<p>I'm not sure that two status indicators can describe the same UI component, and I didn't want to potentially create confusion even if they could. So I bundled both messages into the same <code>p</code> element, with a <code>span</code> for each and an <code>id</code> to distinguish between each. With the user feedback messages, all the lines I had stripped from my JavaScript file were quickly refilled with new code. But for a better experience for an end user: it's arguably worth it.</p>
<p>Any structural work to my website, such as this, requires some modification and testing with the CMS module. But after that's done and changes are pushed, I shouldn't have to think about it again. There is one aspect I'm mulling over before I finalise my changes: when all filters are showing, i.e. no truncation, and a topic is selected to apply a filter that is placed <em>after</em> where the truncation would occur (so index 7 onwards), if the topic list is then truncated, then that topic is hidden and can't be deselected without reopening the full list. It's a dead end situation that can be escaped, but requires more analysis and problem solving than what is fair to place onto an end user. As I assess, I think I may be able to just apply <code>display: inline;</code> to the selected topic to override the <code>display: none;</code> that is applied to truncate it, ensuring any selected topic is not hidden from view, regardless of it's index.</p>
<p>When looking up potential methods for applying a search filter, I came across a few different options that I didn't really vibe with for this use case. But I must admit I was especially pleased that W3 schools offered the <a href="https://www.w3schools.com/howto/howto_js_filter_elements.asp" target="_blank" rel="noopener noreferrer">same solution</a> as I has already came up with myself. It's nice to have some affirmation that you are making good decisions.</p>            
         </div>

            <footer class="content__footer">
               <div class="entry-wrapper">
                        <p class="content__updated">
                           This article was updated on
                              24 January 2026
                        </p>

                     <div class="content__actions">
                              <ul class="content__tag">
                                    <li>
                                       <a href="https://blog.aaronwatts.dev/tags/aaronwattsdev/">aaronwatts.dev</a>
                                    </li>
                              </ul>

                     </div>

                     <div class="content__bio bio">
                              <img 
                                 src="https://blog.aaronwatts.dev/media/website/android-chrome-512x512.png" 
                                  loading="lazy"
                                 height="512"
                                 width="512" 
                                 class="bio__avatar" 
                                 alt="">                          
                           <div>
                              <h3 class="h4 bio__name">
                                 <a href="https://blog.aaronwatts.dev/authors/aaronwattsdev/" rel="author">aaronwatts@dev</a>
                              </h3>
                           </div>
                     </div>
               </div>

                     <nav class="content__nav">
                        <div class="wrapper">
                           <div class="content__nav-inner">
                                 <div class="content__nav-prev">
                                    <a href="https://blog.aaronwatts.dev/my-break-was-extended/" class="content__nav-link" rel="prev">
                                       <div>
                                          <span>Previous</span>
                                          My break was extended
                                       </div>
                                    </a>
                                 </div>
                                 <div class="content__nav-next">
                                    <a href="https://blog.aaronwatts.dev/simple-fix-complicated-execution/" class="content__nav-link" rel="next">
                                       <div>
                                          <span>Next</span>
                                          Simple Fix Complicated Execution
                                       </div>
                                    </a>
                                 </div>
                           </div>
                        </div>
                     </nav>
            </footer>
      </article>


            <div class="content__related related">
               <div class="wrapper">
                  <h2 class="h4 related__title">
                     You should also read:
                  </h2>
                     <article class="feed__item feed__item--centered">
                        <div class="feed__content">
                           <header>
                                 <div class="feed__meta">
                                                <a href="https://blog.aaronwatts.dev/authors/aaronwattsdev/" class="feed__author-link">
                                                   <img
                                                      src="https://blog.aaronwatts.dev/media/website/android-chrome-512x512.png" 
                                                       loading="lazy"
                                                      height="512"
                                                      width="512"      
                                                      class="feed__author-thumb"
                                                      alt="aaronwatts@dev">
                                                </a>
                                          <time datetime="2026-02-04T11:00" class="feed__date">
                                                4 February 2026
                                          </time>
                                 </div>
                              <h3 class="feed__title">
                                 <a href="https://blog.aaronwatts.dev/simple-fix-complicated-execution/">
                                    Simple Fix Complicated Execution
                                 </a>
                              </h3>
                           </header>               
                              <p>I worked out a simple solution to truncate my list of topics using only CSS. It's the only part of my website that really relies on JavaScript. It's wouldn't really be a heavy load for a script to run, but I didn't want to iterate over elements and individually hide them by applying a class to elements one at a time. It seemed like an unnecessary amount of computation, and I thought there was a lighter way to do it.</p>

                              <a href="https://blog.aaronwatts.dev/simple-fix-complicated-execution/" class="readmore feed__readmore">
                                 Continue reading...</a>
                        </div>
                     </article>
                     <article class="feed__item feed__item--centered">
                        <div class="feed__content">
                           <header>
                                 <div class="feed__meta">
                                                <a href="https://blog.aaronwatts.dev/authors/aaronwattsdev/" class="feed__author-link">
                                                   <img
                                                      src="https://blog.aaronwatts.dev/media/website/android-chrome-512x512.png" 
                                                       loading="lazy"
                                                      height="512"
                                                      width="512"      
                                                      class="feed__author-thumb"
                                                      alt="aaronwatts@dev">
                                                </a>
                                          <time datetime="2025-11-09T11:00" class="feed__date">
                                                9 November 2025
                                          </time>
                                 </div>
                              <h3 class="feed__title">
                                 <a href="https://blog.aaronwatts.dev/aria-compliant-breadcrumbs/">
                                    ARIA compliant breadcrumbs
                                 </a>
                              </h3>
                           </header>               
                              <p>I've been looking at improving accessibility across my main website. One of my main goals when building it originally was to keep it as simple as possible, which is now paying off as I begin to make changes. Despite keeping it simple, I did still want the site to have at least <em>some</em> character, to have a little bit of me in it. So I went with the not so unique approach of styling parts of the site to look like terminal output, such as my main site navigation. I used a breadcrumb navigation and styled it to look like a directory path in a terminal prompt.</p>

                              <a href="https://blog.aaronwatts.dev/aria-compliant-breadcrumbs/" class="readmore feed__readmore">
                                 Continue reading...</a>
                        </div>
                     </article>
                     <article class="feed__item feed__item--centered">
                        <div class="feed__content">
                           <header>
                                 <div class="feed__meta">
                                                <a href="https://blog.aaronwatts.dev/authors/aaronwattsdev/" class="feed__author-link">
                                                   <img
                                                      src="https://blog.aaronwatts.dev/media/website/android-chrome-512x512.png" 
                                                       loading="lazy"
                                                      height="512"
                                                      width="512"      
                                                      class="feed__author-thumb"
                                                      alt="aaronwatts@dev">
                                                </a>
                                          <time datetime="2025-11-02T09:00" class="feed__date">
                                                2 November 2025
                                          </time>
                                 </div>
                              <h3 class="feed__title">
                                 <a href="https://blog.aaronwatts.dev/changes-to-aaronwattsdev/">
                                    Changes to AaronWattsDev
                                 </a>
                              </h3>
                           </header>               
                              <p>I've been doing work on my website to make it more accessible. This has sent me down a few branching rabbit holes. Hopefully making a note of what I've done and what I plan to do will help me keep track of everything I'm hoping to implement..</p>

                              <a href="https://blog.aaronwatts.dev/changes-to-aaronwattsdev/" class="readmore feed__readmore">
                                 Continue reading...</a>
                        </div>
                     </article>
               </div>
            </div>


</main>
<footer class="footer 
footer--glued">
    <div class="wrapper">
        
            <div class="footer__copyright">
                <p>Powered by Publii</p>
            </div>

        
            <button id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top">
                <svg width="20" height="20">
                    <use xlink:href="https://blog.aaronwatts.dev/assets/svg/svg-map.svg#toparrow"/>
                </svg>
            </button>
    </div>
</footer>

<script defer src="https://blog.aaronwatts.dev/assets/js/scripts.min.js?v=ffcbea6c02c8178d10092962b235a5b0"></script>

<script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script>

    <script>        
        var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }
    </script>



<script defer src="https://blog.aaronwatts.dev/media/plugins/syntaxHighlighter/prism.js"></script>
</body>
</html>
